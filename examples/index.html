<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=7" />
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta http-equiv="Content-Script-Type" content="text/javascript" />
	<script charset="UTF-8" type="text/javascript" src="../index.js"></script>
	<title>domt example</title>
</head>
<body onclick="testExpression();">
	<h1>Click body to merge</h1>
	<div bind-class="class" id="list">
    <ul>
      <li repeat="items" class="red" bind-bind-class="keys.class" bind-bind-html="keys.str">first item</li>
    </ul>
  </div>

	<div class="tree">
		<div repeat="branch">
			<div repeat="leave">
				<p bind-text="text"></p>
			</div>
		</div>
	</div>

	<p id="exp" bind-html><span class="the [class]">[text|upper|br]</span></p>
	<p id="exp2" bind-html><span class="the {{class}}">{{text|upper|br}}</span></p>

  <script type="text/javascript">
		function testBindRepeat() {
			Domt('#list').merge({
				"class": "list",
				"keys": {
					"class": "color",
					"str": "html"
				}
			}).merge({
				items: [
					{color: "blue", html: "the sea"},
					{color: null, html: "the <b>void</b>"}
				]
			});
		}
		function testExpression() {
			Domt('#exp').merge({
				"class": "potato",
				text: "is \ngreen"
			});
			Domt.ns.expr = '{{*}}';
			Domt('#exp2').merge({
				"class": "potato",
				text: "is \ngreen"
			});
			Domt.ns.expr = '[*]'; // restore
		}
  </script>
</body>
</html>
