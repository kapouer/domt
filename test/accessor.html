<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta http-equiv="Content-Script-Type" content="text/javascript" />
  <script src="../index.js"></script>
  <script src="check.js"></script>
  <script>
	describe("accessors", function suite() {
		it("should merge data without path into text", function() {
			Domt('#text').merge("me").check();
		});
		it("should not merge undefined data without path into text", function() {
			Domt('#text').merge().check();
		});
		it("should merge null data without path into text", function() {
			Domt('#text').merge(null).check('expected-text-null');
		});

		it("should merge data into text", function() {
			Domt('#path').merge({
				path: {
					to: {
						value: 15
					}
				}
			}).check();
		});
		it("should not merge undefined data into text", function() {
			Domt('#path').merge({
				path: {
					to: {
					}
				}
			}).check();
		});
		it("should merge null data into text", function() {
			Domt('#path').merge({
				path: {
					to: {
						value: null
					}
				}
			}).check('expected-path-null');
		});
	});
  </script>
	<title>Domt test suite</title>
</head>
<body>

	<h1 id="text" bind-text>old header</h1>
	<h1 id="expected-text" bind-text>me</h1>
	<h1 id="expected-text-null" bind-text></h1>

	<h1 id="path" bind-text="path.to.value">old header</h1>
	<h1 id="expected-path" bind-text="path.to.value">15</h1>
	<h1 id="expected-path-null" bind-text="path.to.value"></h1>

</body>
</html>
